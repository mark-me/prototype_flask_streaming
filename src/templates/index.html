<!DOCTYPE html>
<html>
<head>
    <title>Terminal Output</title>
    <style>
        #terminal {
            background-color: #000;
            color: #0f0;
            padding: 10px;
            font-family: monospace;
            height: 400px;
            overflow-y: scroll;
            white-space: pre-wrap;
            border-radius: 5px;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Terminal Output van main.py</h1>
    <div id="terminal"></div>
    <button onclick="runScript()">Run Script</button>

    <script>
        function runScript() {
            const terminal = document.getElementById('terminal');
            terminal.innerHTML = ''; // Clear previous output

            const eventSource = new EventSource('/run-script');
            eventSource.onmessage = function(event) {
                terminal.innerHTML += event.data + '\n';
                terminal.scrollTop = terminal.scrollHeight;
            };
            eventSource.onerror = function(err) {
                terminal.innerHTML += '\n[Script gestopt of fout opgetreden]';
                eventSource.close();
            };
        }
    </script>
</body>
</html>
